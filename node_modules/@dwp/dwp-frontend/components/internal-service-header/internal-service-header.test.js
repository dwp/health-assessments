const { expect } = require('chai');

const { runA11yTests, getExamples, renderExample } = require('../../../lib/mochaHelpers');

const examples = getExamples('internal-service-header');

const componentName = 'header';

describe('Internal service Header', () => {
  it('should display the name placeholder if no data provided', async () => {
    const output = renderExample('internal-service-header', componentName, {});
    await runA11yTests(output);
    expect(output).to.have.string('Internal service Header');
  });

  it('should display a name if provided', async () => {
    const output = renderExample('internal-service-header', componentName, examples.default);
    await runA11yTests(output);
    expect(output).to.have.string(examples.default.name);
  });

  it('should display no sign-out link if no data provided', async () => {
    const output = renderExample('internal-service-header', componentName, examples.default);
    await runA11yTests(output);
    expect(output).to.have.string('');
  });

  it('should display the sign-out link if provided', async () => {
    const output = renderExample('internal-service-header', componentName, examples.signin);
    await runA11yTests(output);
    expect(output).to.have.string(examples.signin.action);
  });
});
